



##  cargo test --lib

(base) lishizheng@lishizhengdeMacBook-Pro simple-db % cargo test --lib

  **Finished** `test` profile [unoptimized + debuginfo] target(s) in 0.03s

   **Running** unittests src/lib.rs (target/debug/deps/simple_db-698b01806474be1f)



running 15 tests

test query::tests::test_query_builder ... ok

test storage::tests::test_memory_storage ... ok

test storage::tests::test_log_entry_serialization ... ok

test engine::tests::test_transaction ... ok

test query::tests::test_query_execution ... ok

test storage::tests::test_storage_engine ... ok

test types::tests::test_schema_validation ... ok

test types::tests::test_table_operations ... ok

test tests::test_create_table ... ok

test tests::test_insert_and_query ... ok

test types::tests::test_value_conversions ... ok

test engine::tests::test_database_engine ... ok

test query::tests::test_condition_evaluation ... ok

test engine::tests::test_batch_operations ... ok

test query::tests::test_like_condition ... ok



test result: ok. 15 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s





## cargo run --example basic_usage

cargo run --example basic_usage



Simple DB 基本使用示例

========================================



1. 创建用户表...

✓ 用户表创建成功



2. 插入用户数据...

✓ 插入用户，ID: 9c49a22a-bc5b-4cfa-9531-72a6e85f475c

✓ 插入用户，ID: 348efcae-daef-4253-b187-39287a8b778a

✓ 插入用户，ID: 3daffedb-7094-4b9f-b7c5-2f6e8792bdbe



3. 查询所有用户:

+---------+------+-----------------------+-----+---------+

| active | age | email        | id | name  |

+---------+------+-----------------------+-----+---------+

| true  | 25 | zhangsan@example.com | 1 | 张三   |

| true  | 30 | lisi@example.com   | 2 | 李四   |

| true  | 28 | wangwu@example.com  | 3 | 王五   |

+---------+------+-----------------------+-----+---------+

查询耗时: 0 ms, 返回 3 行



4. 查询年龄大于25的用户:

+---------+------+---------------------+-----+---------+

| active | age | email       | id | name  |

+---------+------+---------------------+-----+---------+

| true  | 30 | lisi@example.com  | 2 | 李四   |

| true  | 28 | wangwu@example.com | 3 | 王五   |

+---------+------+---------------------+-----+---------+

查询耗时: 0 ms, 返回 2 行



5. 按年龄降序查询用户:

+---------+------+-----------------------+-----+---------+

| active | age | email        | id | name  |

+---------+------+-----------------------+-----+---------+

| true  | 30 | lisi@example.com   | 2 | 李四   |

| true  | 28 | wangwu@example.com  | 3 | 王五   |

| true  | 25 | zhangsan@example.com | 1 | 张三   |

+---------+------+-----------------------+-----+---------+

查询耗时: 0 ms, 返回 3 行



6. 分页查询用户 (每页2条，第1页):

+---------+------+-----------------------+-----+---------+

| active | age | email        | id | name  |

+---------+------+-----------------------+-----+---------+

| true  | 25 | zhangsan@example.com | 1 | 张三   |

| true  | 30 | lisi@example.com   | 2 | 李四   |

+---------+------+-----------------------+-----+---------+

查询耗时: 0 ms, 返回 2 行



7. 更新用户数据...

✓ 更新了 1 行



8. 删除用户数据...

✓ 删除了 1 行



9. 更新后的用户数据:

+---------+------+-----------------------+-----+---------+

| active | age | email        | id | name  |

+---------+------+-----------------------+-----+---------+

| false | 26 | zhangsan@example.com | 1 | 张三   |

| true  | 30 | lisi@example.com   | 2 | 李四   |

+---------+------+-----------------------+-----+---------+

查询耗时: 0 ms, 返回 2 行



10. 统计用户数量:

✓ 用户总数: 2



11. 表信息:

表名: users

行数: 2

创建时间: 2025-09-29 02:01:23.084378 UTC

列信息:

 id: INTEGER NULL=NO, UNIQUE=YES, PK=YES

 name: TEXT NULL=YES, UNIQUE=NO, PK=NO

 age: INTEGER NULL=YES, UNIQUE=NO, PK=NO

 email: TEXT NULL=YES, UNIQUE=YES, PK=NO

 active: BOOLEAN NULL=YES, UNIQUE=NO, PK=NO



12. 数据库统计信息:

总表数: 1

总行数: 2

存储大小: 127924 字节



13. 事务示例...

